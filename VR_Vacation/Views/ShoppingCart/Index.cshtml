@model VR_Vacation.Models.Cart

@{
    ViewBag.Title = "Index";
}

<h2>Shopping Cart</h2>

<div>
    <div class="panel panel-default">
        <div class="panel-heading">Packages</div>
        @foreach (var package in Model.Packages)
        {
            <table class="table">
                <tr>
                    <td>
                        <div>
                            <button value="@package.Id" id="packageToggle-@package.Id">remove</button>
                        </div>
                    </td>
                    <td>
                        <div>
                            @Html.DisplayFor(model => package.Name)
                        </div>
                    </td>
                    <td>
                        <div>
                            @Html.DisplayFor(model => package.Price)
                        </div>
                    </td>
                </tr>
            </table>
        }
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">Experiences</div>
        @foreach (var experience in Model.Experiences)
        {
            <table class="table">
                <tr>
                @if(var  == @experience.Id)
                {
                <td>
                    <div>
                        <h2>quantity</h2>
                    </div>
                </td>
                <td>
                    <div>
                        @Html.DisplayFor(model => experience.Name)
                    </div>
                </td>
                <td>
                    <div>
                        @Html.DisplayFor(model => experience.Price)
                    </div>
                </td>
                <td>
                    <div>
                        <button value="@experience.Id" id="experienceToggle-@experience.Id">remove</button>
                    </div>
                </td>
                }
                else
                {
                    <td>
                        <div>
                            @Html.DisplayFor(model => experience.Name)
                        </div>
                    </td>
                    <td>
                        <div>
                            @Html.DisplayFor(model => experience.Price)
                        </div>
                    </td>
                    <td>
                        <div>
                            <button value="@experience.Id" id="experienceToggle-@experience.Id">remove</button>
                        </div>
                    </td>
                    }
            </table>
        }
    </div>
</div>

<div>
    <div>Status: @Html.DisplayFor(model => model.TotalAmount)</div>
</div>
@section scripts{
    <script>
        $(function () {
            $('#packageToggle').click(function () {
                var text = $(this).val();
                if (text === "add") {
                    $(this).text("remove");
                } else {
                    $(this).text("add");
                }
            });
        });
        $(function () {
            $('#experienceToggle').click(function () {
                var text = $(this).val();
                if (text === "add") {
                    $(this).text("remove");
                } else {
                    $(this).text("add");
                }
            });
        });
    </script>
}

